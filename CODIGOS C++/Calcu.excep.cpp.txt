#include <iostream>
#include <limits>

int obtenerNumero(const std::string& mensaje) {
    int numero = 0;
    bool entradaValida = false;

    while (!entradaValida) {
        std::cout << mensaje;
        if (std::cin >> numero) {
            entradaValida = true;
        } else {
            std::cout << "Error: Ingrese un número válido." << std::endl;
            std::cin.clear();
            std::cin.ignore(std::numeric_limits<std::streamsize>::max(), '\n');
        }
    }

    return numero;
}

int obtenerOpcion() {
    int opcion = 0;
    bool entradaValida = false;

    while (!entradaValida) {
        std::cout << "Escoja la operación a realizar:" << std::endl;
        std::cout << "1 ---> Suma" << std::endl;
        std::cout << "2 ---> Resta" << std::endl;
        std::cout << "3 ---> Multiplicación" << std::endl;
        std::cout << "4 ---> División" << std::endl;

        if (std::cin >> opcion) {
            if (opcion >= 1 && opcion <= 4) {
                entradaValida = true;
            } else {
                std::cout << "Opción inválida. Por favor, seleccione una operación válida (1-4)." << std::endl;
            }
        } else {
            std::cout << "Error: Ingrese un número válido para la operación." << std::endl;
            std::cin.clear();
            std::cin.ignore(std::numeric_limits<std::streamsize>::max(), '\n');
        }
    }

    return opcion;
}

int sumar(int a, int b) {
    return a + b;
}

int restar(int a, int b) {
    return a - b;
}

int multiplicar(int a, int b) {
    return a * b;
}

int dividir(int a, int b) {
    if (b != 0) {
        return a / b;
    } else {
        std::cout << "Error: No se puede dividir por cero." << std::endl;
        return 0;
    }
}

int main() {
    std::cout << "    CALCULEITOR.COM" << std::endl;
    std::cout << "   ---BIENVENIDO---" << std::endl;
    std::cout << "--------------------------" << std::endl;

    int num1 = obtenerNumero("Dijite el primer valor: ");
    int num2 = obtenerNumero("Dijite el segundo valor: ");

    std::cout << "--------------------------" << std::endl;

    int opcion = obtenerOpcion();

    switch (opcion) {
        case 1:
            std::cout << "El resultado de la operación es: " << sumar(num1, num2) << std::endl;
            break;
        case 2:
            std::cout << "El resultado de la operación es: " << restar(num1, num2) << std::endl;
            break;
        case 3:
            std::cout << "El resultado de la operación es: " << multiplicar(num1, num2) << std::endl;
            break;
        case 4:
            std::cout << "El resultado de la operación es: " << dividir(num1, num2) << std::endl;
            break;
        default:
            std::cout << " --Operación aprobada--" << std::endl;
    }

    std::cout << "----------------------" << std::endl;
    std::cout << "     --Thank you --" << std::endl;

    return 0;
}
